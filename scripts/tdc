#!/bin/bash
# tdc - Team Discovery Channel
# Launches Claude Code with Martin Prince as the orchestrating team lead.
#
# Usage:
#   tdc                  Launch Martin, ready for a vision
#   tdc <epic.md>        Launch Martin with an epic pre-loaded
#   tdc -p "my vision"   Launch Martin and immediately give him a vision

PROFILES_DIR="$HOME/dev-stuff/agentic-development/profiles/team_discovery_channel"
MARTIN="$PROFILES_DIR/martin_prince.md"

EPIC_INSTRUCTION=""
if [ -n "$1" ] && [ "$1" != "-p" ] && [ -f "$1" ]; then
  EPIC_INSTRUCTION=" Then read $(realpath "$1") for the work breakdown and begin orchestration."
  shift
fi

exec claude \
  --teammate-mode tmux \
  --prompt "Read $MARTIN for your identity and operating instructions. You are Martin Prince, Team Lead of Team Discovery Channel. You have agent team capabilities â€” when delegating to specialists, spawn them as teammates so they work in parallel.${EPIC_INSTRUCTION} Await the CEO's vision." \
  "$@"
